RAM_TYPE ?= HYPERRAM

ifeq '$(RAM_TYPE)' 'HYPERRAM'
RUNNER_CONFIG=$(CURDIR)/config-hyper.ini
CONFIG_HYPERRAM = 1
endif

ifeq '$(RAM_TYPE)' 'SPIRAM'
RUNNER_CONFIG=$(CURDIR)/config-spi.ini
CONFIG_SPIRAM = 1
endif

ifdef USE_CLUSTER
APP_CFLAGS += -DUSE_CLUSTER
endif

ifdef READ
APP_CFLAGS += -DTEST_READ
endif

ifdef WRITE
APP_CFLAGS += -DTEST_WRITE
endif

ifdef QUICK
APP_CFLAGS += -DTEST_QUICK
endif

ifdef BASIC
APP_CFLAGS += -DTEST_BASIC
endif

ifdef ROBUST
APP_CFLAGS += -DTEST_ROBUST
endif

ifdef ASYNC
APP_CFLAGS += -DTEST_ASYNC
endif

ifdef SYNC
APP_CFLAGS += -DTEST_SYNC
endif

ifdef ASYNC_2D
APP_CFLAGS += -DTEST_ASYNC_2D
endif

ifdef SYNC_2D
APP_CFLAGS += -DTEST_SYNC_2D
endif

APP = test
APP_SRCS = test.c
APP_CFLAGS += -O3 -g

ifeq '$(RAM_TYPE)' 'HYPERRAM'
APP_CFLAGS += -DUSE_HYPERRAM
else
APP_CFLAGS += -DUSE_SPIRAM
CONFIG_SPIRAM = 1
endif

ifdef VERBOSE
APP_CFLAGS += -DVERBOSE
endif

include $(RULES_DIR)/pmsis_rules.mk
